<div class="container">
    <h1><%= @dream.title %></h1>
    <h3>Type: <%= @dream.dream_type %></h3>
    <h3>Content:</h3>
    <p><%= @dream.content %></p>
    <% if @dream_symbolisms.any? %>
        <h3>Symbols:</h3>

        
            <% @dream_symbolisms.each do |dream_symbol| %>
            <div class="list-group">
                <li class="list-group-item list-group-item-action flex-column align-items-star">
                    <div class="d-flex w-100 justify-content-between">
                        <h5 class="mb-1"><%= dream_symbol.name %></h5>
                        <% if @dream.user == current_user %>
                            <small>
                            <%= link_to icon('fas', 'edit') + " Edit", edit_dream_symbolism_path(dream_symbol) %>
                            <%= link_to icon('fas', 'trash-alt') + " Delete", " /dream_symbolisms/#{dream_symbol.id}", method: :delete, data: {confirm: "Are you sure you want to delete #{dream_symbol.name}?"} %>
                            </small>
                        <% end %>
                        
                        
                    </div>
                    <p class="mb-1"><%= dream_symbol.meaning %></p>    
                </li>
                </div>
            <% end %>
        
    <% end %>
    <br>

    <% if @dream.user == current_user %>
        <h3>Public: <%= @dream.is_public ? "Yes" : "No" %></h3>
        <br>
        <%= button_to "Edit", edit_user_dream_path(current_user, @dream), method: :get, class: "btn btn-secondary" %>
        <br>
        <%= bootstrap_form_with method: :delete, url: "/users/#{current_user.id}/dreams/#{@dream.id}" do |f| %>
            <%= f.submit "Delete", data: { confirm: 'Are you sure you want to delete this dream?' } %>
        <% end %>
        <br>
        <h3>Add Symbols to <%= @dream.title %></h3>
        <%= bootstrap_form_with method: :get, url: "/add-symbols", local: true do |f| %>
            <%= f.hidden_field :user_id, value: @dream.user.id %>
            <%= f.hidden_field :dream_id, value: @dream.id %>
            <%= f.number_field :number, min: "1", required: true, label: "How many symbols would you like to add?" %>
            <%= f.submit "Add Symbols" %>
        <% end %>
        <br>
    <% end %>
    

    
</div>